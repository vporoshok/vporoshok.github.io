---
title: Работа над задачей
description: Mit Katzen aus dem Auto winken Saft nur noch mit Wodka trinken
date: 2021-04-03T11:14:00
draft: true
categories:
- develop
tags:
- tutorial
- work
- management
---

Каждый день по работе я сталкиваюсь с разными задачами. Принципы работы с ними складывались как-то спонтанно, местами ценой набитых шишек. В этой статье хочу собрать всё и структурировать. В основном для себя, но вдруг окажется полезным ещё кому-нибудь.

## Что важно

Задачи можно решать разными способами, это как с сортировкой. В конце концов можно писать код до тех пор, пока задача не решится (возможно через пару лет усердного труда отдела программистов). Но программист не сферический конь в вакууме. От решения конкретных задач может зависеть множество процессов (другие задачи разработки, задачи других отделов, в конце концов прибыль компании). Поэтому при решении задачи необходимо соблюдать максимальную прозрачность для заказчика, будь он внутренним или внешним. Прозрачность как по срокам, так и по функционалу.

С другой стороны решение задачи чаще всего остаётся строками кода в репозитории продукта. Чаще всего эти строки усложняют продукт. Неважно сам ли автор этих строк будет читать их через пару месяцев или другой разработчик на следующий день после того как автора собьёт автобус, редко когда чтение чужого кода или даже выдержанного своего доставляет удовольствие или полностью раскрывает суть происходящего. А если код не покрыт тестами? Или тесты написаны так, что любое изменение их ломает? То, что обычно называют «легаси», хотя может оказаться, что это наследство оставлено вами буквально на прошлой неделе впопыхах починки бага на проде. Или по прихоти одного из клиентов, а потом выясняется, что другие клиенты ожидают совершенно другого. К чему это я? При решении задачи должно оставаться как можно больше артефактов, которые можно будет привязать к конкретным строкам кода.

Итак, прозрачность в ожиданиях и документация изменений.

### Методологии

С первой частью требований помогают справляться различные Agile-методологии, например, Scrum, Kanban или их миксы. Все эти подходы основываются на понятных шагах при решении задач, которые можно оценить. Что же делать, если задача совершенно новая и как её решать непонятно. Как оценить сроки? Как разбить на понятные шаги? Первое правило не бежать вперёд самолёта. Ниже описываются этапы работы над задачей от абстрактной «хотелки» заказчика до мерджа изменений в master-ветку. Дать оценку шага сложно, не доведя предыдущий до конца. Хотя в начале каждого шага оценить его не составит большого труда.

### Роли

Вообще описываемые ниже шаги не всегда выполняются разработчиками, в некоторых компаниях задачи распределяются между аналитиком, лидом команды, разработчиком и тестировщиком. Однако, часто встречается ситуация, когда часть ролей отсутствует и их выполнение ложится на плечи разработчика. Поэтому все шаги описываются здесь с точки зрения решения разработчиком. Если шаг можно делегировать, то это будет указываться в примечании.

## Виды задач

Прежде чем брать задачу в работу

## Фича

### Аналитика

Прохождение по этому чек-листу позволит избежать лишних итераций и ненужной работы при выполнении задачи.

- **Получить и описать исходную проблему.** Часто задачи формулируются как некоторое решение, пришедшее в голову Автору задачи. Иногда решение поставленной задачи в другом виде уже реализовано в системе или предложенное решение идёт в разрез с концепциями платформы. Для дальнейшей работы над задачей необходимо исходная постановка задачи. Постановка может быть сформулирована как несоответствие поведения системы описанному в справке (ошибка), либо содержать бизнес-сценарий, который предполагается решать с помощью доработки.
- **Пользовательский сценарий.** Имея формализованную исходную проблему, необходимо описать и согласовать с автором задачи пользовательский сценарий. Сценарий должен описывать действия пользователя в системе после выполнения задачи, для решения описанного в исходной проблеме бизнес-сценария. Пользовательский сценарий может быть существующим тест-кейсом (ошибка), либо превратиться в него.
- **Проработка архитектуры.** Для любых изменений необходимо проработать архитектуру решения. Она должна отвечать на следующие вопросы:
    - Какие сервисы затрагивают изменения?
    - Какие сущности добавляются/изменяются/удаляются?
    - Где хранятся новые сущности?
    - Какие сценарии системы добавляются/изменяются/удаляются?
    - Как передаётся управления между сервисами во время выполнения новых или изменённых сценариев?
- **Проработка интерфейса.** Любое изменение в системе (кроме технического долга и инфраструктурных) в каком-то виде изменяет пользовательский интерфейс системы. Это может быть frontend, API или TS SDK. Решение задачи всегда следует начинать с проработки видимых пользователю изменений. Для API изменения необходимо задокументировать в виде swagger-описания, для TS SDK в виде d.ts описания, а для frontend'а в виде прототипа со стабами. Создав описание изменений интерфейса необходимо согласовать его с Автором. Согласование лучше всего проводить в виде созвона, в результате которого собрать фидбэк и предложения по улучшению. Применив фидбэк согласовать конечный вариант, внести его в Пользовательский сценарий и Архитектуру.
- **Оценка и декомпозиция.** После согласования пользовательского сценария, архитектуры и интерфейса задачу можно брать в работу, предварительно оценив. Если оценка неочевидна или больше 8 исторических точек, то необходимо выделить отдельные задачи «исследования», в рамках которых проработать рисковые или неопределённые моменты.
- **Описание изменений.** В процессе выполнения задачи необходимо формировать файл с изменениями doc/changes/TEAM-XXX new feature.md. В этом файле по мере внесения изменений необходимо фиксировать добавленные/изменённые/удалённые сущности с описанием причин изменений. Данный файл позволит вовремя найти отклонение от начальной Архитектуры, а также позволит ускорить ревью кода.


### Проектирование

### Декомпозиция

### Разработка

### Документация

### Ревью изменений

### Тестирование

### Особенности больших фич

### Изменения поведения существующих фич

## Бага

### Локализация

### Критерии ошибки

### Исправление

## Долг

### Опасности погашения долгов

### Аналитика

### Проектирование

### Фиксация поведения

### Разработка и ревью
